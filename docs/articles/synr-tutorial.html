<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>synr: Package, summarize and visualize synesthesia consistency test data • synr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="synr: Package, summarize and visualize synesthesia consistency test data">
<meta property="og:description" content="synr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">synr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/dingemanse-data-example.html">Using synr with real data: Coloured vowels</a>
    </li>
    <li>
      <a href="../articles/quick-start.html">synr: Quick start</a>
    </li>
    <li>
      <a href="../articles/synr-creategroup.html">Creating ParticipantGroup objects</a>
    </li>
    <li>
      <a href="../articles/synr-tutorial.html">synr: Package, summarize and visualize synesthesia consistency test data</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datalowe/synr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="synr-tutorial_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>synr: Package, summarize and visualize synesthesia consistency test data</h1>
                        <h4 class="author">Lowe Wilsson</h4>
            
            <h4 class="date">2021-10-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/datalowe/synr/blob/master/vignettes/synr-tutorial.Rmd"><code>vignettes/synr-tutorial.Rmd</code></a></small>
      <div class="hidden name"><code>synr-tutorial.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<div id="synesthesia-and-consistency-testing" class="section level3">
<h3 class="hasAnchor">
<a href="#synesthesia-and-consistency-testing" class="anchor"></a>Synesthesia and consistency testing</h3>
<p>Within <a href="https://en.wikipedia.org/wiki/Synesthesia">synesthesia</a> research, specifically research about <a href="https://en.wikipedia.org/wiki/Grapheme%E2%80%93color_synesthesia">grapheme-color synesthesia</a>, <strong><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4118597/#S4title">consistency tests</a></strong> are often used. Basically, a participant is shown a set of <strong>graphemes</strong> (e. g. letters, digits, months, or other words) and has to respond by indicating what color, if any, they associate with the grapheme. Each grapheme is repeated a certain number of times, usually three times, throughout the test. If the participant is unusually consistent in the colors they respond with, e. g. choosing a red color every time an ‘A’ is shown and always choosing a green color for ‘H’, this indicates that the participant might have synesthetic grapheme-color associations. In reality of course, there might be other reasons for consistent response patterns, such as if the participant employed mnemonic strategies. It may therefore be appropriate to combine consistency testing with other measures for synesthesia classification. Still, consistency testing is widely considered to be an important tool for synesthesia research.</p>
<p>In consistency testing, participants’ levels of consistency are estimated by using a score based on response colors’ color space distances. This has been called by different names, such as <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4118597/#S4title">‘color variation score’</a>. Within the synr package, the term <strong>‘consistency score’</strong> is used to refer to this score.</p>
</div>
<div id="synrs-purpose" class="section level3">
<h3 class="hasAnchor">
<a href="#synrs-purpose" class="anchor"></a>synr’s purpose</h3>
<p>The aim of this package is to facilitate analysis of consistency test data by providing functionality for rolling all the consistency test data up into one specialized R object. This object, with its linked methods, constitutes an effective interface for:</p>
<ul>
<li>Quick access/lookup of individual participants’ data.</li>
<li>Calculation of consistency scores.
<ul>
<li>Since different researchers have used different <a href="https://en.wikipedia.org/wiki/Color_space">color spaces</a> to calculate consistency scores, methods include options for specifying some (but not all) different color spaces.</li>
<li>Similarly, different algorithms (e. g. <a href="https://en.wikipedia.org/wiki/Taxicab_geometry">manhattan distance</a> or <a href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean distance</a> have been utilized to calculate color space distances. synr allows for choosing between some options here also, through specifications in method calls.</li>
</ul>
</li>
<li>Summation of data on what proportion of participant responses fall within a certain color range and for how many graphemes the participant has given valid responses.
<ul>
<li>This helps identify participants who might have too few responses or have used too few colors, e. g. only black and white, for their data to be reliable for estimating the degree of synesthetic associations.</li>
</ul>
</li>
<li>Filtering the data in order to calculate the above statistics only for a subset of graphemes.
<ul>
<li>This helps when trying to identify e. g. participants who only have synesthesia for digits, but not other graphemes.</li>
</ul>
</li>
<li>Simple plotting of individual participants’ data.
<ul>
<li>This is useful for quick visual inspection of participant responses. This might aid in double checking procedures for identifying synesthetes or classifying participant data as valid/invalid.</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="getting-started" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-started" class="anchor"></a>Getting started</h2>
<div id="rolling-up-the-data" class="section level3">
<h3 class="hasAnchor">
<a href="#rolling-up-the-data" class="anchor"></a>Rolling up the data</h3>
<p>When using synr, your main interface to the data is the ParticipantGroup class. For information on how to convert raw consistency test data into a ParticipantGroup object, please see the separate tutorial <a href="synr-creategroup-with-long-format.html">Creating ParticipantGroup objects</a>. Here, it’s assumed that the raw data are in ‘long format’ and are thus loaded like this:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_participantgroup.html">create_participantgroup</a></span><span class="op">(</span>
  raw_df<span class="op">=</span><span class="va">synr_exampledf_long_small</span>,
  n_trials_per_grapheme<span class="op">=</span><span class="fl">2</span>,
  id_col_name<span class="op">=</span><span class="st">"participant_id"</span>,
  symbol_col_name<span class="op">=</span><span class="st">"trial_symbol"</span>,
  color_col_name<span class="op">=</span><span class="st">"response_color"</span>,
  time_col_name<span class="op">=</span><span class="st">"response_time"</span>,
  color_space_spec<span class="op">=</span><span class="st">"Luv"</span>
<span class="op">)</span></code></pre></div>
<p>Once you have a ParticipantGroup object (simply called ‘participantgroup’ from here on), you can start using methods with it and accessing its attributes. synr implements this with <a href="http://adv-r.had.co.nz/OO-essentials.html#rc">reference classes</a>, which is an advanced topic. The idea however is that you can learn through this vignette and synr’s help documentation how to use the tools without having to worry about how they work under the hood.</p>
</div>
<div id="accessing-participantgroup-data" class="section level3">
<h3 class="hasAnchor">
<a href="#accessing-participantgroup-data" class="anchor"></a>Accessing participantgroup data</h3>
<p>The participantgroup has a nested structure, where the <strong>participantgroup</strong> has a list of <strong>participants</strong>, and each participant has a list of <strong>graphemes</strong>. By using <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> as a separator, you can specify a participant and/or a grapheme to drill down into this nested structure and access data or methods you need.</p>
<p>Let’s start by accessing participants’ data. Say you want to find what colors the participant with ID ‘3’ used for the symbol ‘A’. You can do this by using the syntax <code>&lt;participantgroup&gt;$participants[['&lt;ID&gt;']]$graphemes[[&lt;symbol&gt;]]</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">fetched_grapheme_data</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="st">'3'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">graphemes</span><span class="op">[[</span><span class="st">'A'</span><span class="op">]</span><span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">fetched_grapheme_data</span><span class="op">)</span>
<span class="co">#&gt; Reference class object of class "Grapheme"</span>
<span class="co">#&gt; Field "symbol":</span>
<span class="co">#&gt; [1] "A"</span>
<span class="co">#&gt; Field "response_colors":</span>
<span class="co">#&gt;          [,1]       [,2]      [,3]</span>
<span class="co">#&gt; [1,] 64.41700 -25.894798   66.0961</span>
<span class="co">#&gt; [2,] 33.73906  -2.818399 -123.0723</span>
<span class="co">#&gt; Field "response_times":</span>
<span class="co">#&gt; [1] 9.9 8.1</span>
<span class="co">#&gt; Field "color_space":</span>
<span class="co">#&gt; [1] "Luv"</span></code></pre></div>
<p>The response colors are represented by an nx3 matrix, where n is the number of trials per grapheme (2 in this example). Each row corresponds to one response. The three columns correspond to the dimensions of the used color space, in this case ‘L’, ‘u’ and ‘v’ (because of the specification <code>color_space_spec = "Luv"</code> when creating the participantgroup).</p>
<p>You can access participants by either their row number in the raw data frame, or by their participant ID. In the example, these happen to be the same except that one is of type numeric and the other of type character (the participant on row number 3 of the raw data frame has the ID ‘3’), so both <code>pg$participants[['3']]$graphemes[['A']]</code> and <code>pg$participants[[3]]$graphemes[['A']]</code> work. If instead the third participant was called ‘jane’, you could use either <code>pg$participants[['jane']]$graphemes[['A']]</code> or <code>pg$participants[[3]]$graphemes[['A']]</code>.</p>
</div>
</div>
<div id="summarizing-data" class="section level2">
<h2 class="hasAnchor">
<a href="#summarizing-data" class="anchor"></a>Summarizing data</h2>
<p>To use methods with synr objects, like the participantgroup or an individual participant, you use the syntax <code>&lt;object&gt;$&lt;method_name&gt;()</code>. The examples below illustrate this.</p>
<div id="consistency-scores" class="section level3">
<h3 class="hasAnchor">
<a href="#consistency-scores" class="anchor"></a>Consistency scores</h3>
<div id="grapheme-level-get_consistency_score" class="section level4">
<h4 class="hasAnchor">
<a href="#grapheme-level-get_consistency_score" class="anchor"></a>grapheme level: <code>get_consistency_score</code>
</h4>
<p>You can calculate the consistency score of a single grapheme by:</p>
<ol style="list-style-type: decimal">
<li>Specifying what participant you want from the participantgroup.</li>
<li>Specifying what grapheme you want from the participant’s list of graphemes.</li>
<li>Using the grapheme’s method <code>get_consistency_score</code>.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># fetching the consistency score of the second participant's grapheme 'A'</span>
<span class="va">cscore_p2_A</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">graphemes</span><span class="op">[[</span><span class="st">'A'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_consistency_score</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">cscore_p2_A</span><span class="op">)</span>
<span class="co">#&gt; [1] 76.40256</span></code></pre></div>
<p><br></p>
</div>
<div id="participant-level-get_mean_consistency_score" class="section level4">
<h4 class="hasAnchor">
<a href="#participant-level-get_mean_consistency_score" class="anchor"></a>participant level: <code>get_mean_consistency_score</code>
</h4>
<p>You can calculate an individual participant’s mean consistency score by:</p>
<ol style="list-style-type: decimal">
<li>Specifying what participant you want from the participantgroup.</li>
<li>Calling the participant’s method <code>get_mean_consistency_score</code>:</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mean_cscore_p2</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_mean_consistency_score</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">mean_cscore_p2</span><span class="op">)</span>
<span class="co">#&gt; [1] 101.3738</span>
<span class="va">mean_cscore_p1</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="st">'1'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_mean_consistency_score</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">mean_cscore_p1</span><span class="op">)</span>
<span class="co">#&gt; [1] 131.206</span></code></pre></div>
<p><br></p>
</div>
<div id="participant-level-get_consistency_scores" class="section level4">
<h4 class="hasAnchor">
<a href="#participant-level-get_consistency_scores" class="anchor"></a>participant level: <code>get_consistency_scores</code>
</h4>
<p>Instead of doing it for just one grapheme, you can calculate the grapheme-level consistency score for all graphemes of a participant using the method <code>get_consistency_scores</code>, which produces a list:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cscores_p3</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_consistency_scores</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">cscores_p3</span><span class="op">)</span>
<span class="co">#&gt; $A</span>
<span class="co">#&gt; [1] 193.0242</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $`7`</span>
<span class="co">#&gt; [1] 164.87</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $D</span>
<span class="co">#&gt; [1] 97.98484</span></code></pre></div>
<p>If you prefer the data frame format, you can convert the list into a data frame:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cscores_p3_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">cscores_p3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">cscores_p3_df</span><span class="op">)</span>
<span class="co">#&gt;          A     X7        D</span>
<span class="co">#&gt; 1 193.0242 164.87 97.98484</span></code></pre></div>
<p><br></p>
</div>
<div id="participantgroup-level-get_mean_consistency_scores" class="section level4">
<h4 class="hasAnchor">
<a href="#participantgroup-level-get_mean_consistency_scores" class="anchor"></a>participantgroup level: <code>get_mean_consistency_scores</code>
</h4>
<p>What many will want to do is simply calculate the mean consistency scores for all participants. The participantgroup method <code>get_mean_consistency_scores</code> does just that, producing a numeric vector with the consistency scores:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mean_cscores</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_mean_consistency_scores</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">mean_cscores</span><span class="op">)</span>
<span class="co">#&gt; [1] 131.2060 101.3738 151.9597</span></code></pre></div>
<p>The order of the mean consistency scores is based on the order of participants in the original raw data frame.</p>
<p>If you want to form a data frame that makes it easy to see which participant goes with which participant score, the participantgroup method <code>get_ids</code> comes in handy:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mean_cscores</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_mean_consistency_scores</span><span class="op">(</span><span class="op">)</span>
<span class="va">p_ids</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_ids</span><span class="op">(</span><span class="op">)</span>
<span class="va">mean_scores_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>participant_id<span class="op">=</span><span class="va">p_ids</span>, mean_consistency_score<span class="op">=</span><span class="va">mean_cscores</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">mean_scores_df</span><span class="op">)</span>
<span class="co">#&gt;   participant_id mean_consistency_score</span>
<span class="co">#&gt; 1              1               131.2060</span>
<span class="co">#&gt; 2              2               101.3738</span>
<span class="co">#&gt; 3              3               151.9597</span></code></pre></div>
</div>
</div>
<div id="number-of-valid-responses" class="section level3">
<h3 class="hasAnchor">
<a href="#number-of-valid-responses" class="anchor"></a>Number of valid responses</h3>
<p>It’s often helpful to examine how many valid color responses participants have provided during the experiment. It’s common for consistency tests to provide some kind of ‘no color’ response. This is usually provided mainly as a tool for people who <strong>do</strong> have synesthetic associations to use for non-inducing stimuli, but might be ‘abused’ by people with no synesthetic associations. A mean consistency score is virtually meaningless if a participant has only picked a color for say two graphemes, as it would be very easy for that person to memorize what color to use for each grapheme. For these reasons, synr provides functionality for examining how many of a participant’s graphemes have only valid color responses.</p>
<p>Note that for synr to work, ‘no color’ responses must be coded as <code>NA</code> values. For more information about this, please see the vignette <a href="synr-creategroup-with-long-format.html">Creating ParticipantGroup objects</a>.</p>
<div id="grapheme-level-get_num_non_na_colors" class="section level4">
<h4 class="hasAnchor">
<a href="#grapheme-level-get_num_non_na_colors" class="anchor"></a>grapheme level: <code>get_num_non_na_colors</code>
</h4>
<p>You can calculate the number of non-missing response color values for a single grapheme by:</p>
<ol style="list-style-type: decimal">
<li>Specifying what participant you want from the participantgroup.</li>
<li>Specifying what grapheme you want from the participant’s list of graphemes.</li>
<li>Using the grapheme’s method <code>get_num_non_na_colors</code>.</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p1_A_numvalid</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">graphemes</span><span class="op">[[</span><span class="st">'7'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_num_non_na_colors</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">p1_A_numvalid</span><span class="op">)</span>
<span class="co">#&gt; [1] 2</span></code></pre></div>
<p>So, the first participant gave two valid (non-NA) color responses for the grapheme ‘7’, and they were registered correctly.</p>
</div>
<div id="participant-level-get_number_all_colored_graphemes" class="section level4">
<h4 class="hasAnchor">
<a href="#participant-level-get_number_all_colored_graphemes" class="anchor"></a>participant level: <code>get_number_all_colored_graphemes</code>
</h4>
<p>For a participant, you can get the number of graphemes that <strong>only</strong> have non-NA color responses. This would mean the number of graphemes with 3 non-NA color responses, if there are 3 trials/grapheme. You calculate the number of graphemes with only non-NA responses by:</p>
<ol style="list-style-type: decimal">
<li>Specifying what participant you want from the participantgroup.</li>
<li>Calling the participant’s method <code>get_number_all_colored_graphemes</code>:</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">num_onlynonna_p2</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_number_all_colored_graphemes</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">num_onlynonna_p2</span><span class="op">)</span>
<span class="co">#&gt; [1] 3</span></code></pre></div>
<p>So, the second participant gave only valid (non-NA) color responses for 3 graphemes.</p>
</div>
<div id="participantgroup-level-get_numbers_all_colored_graphemess" class="section level4">
<h4 class="hasAnchor">
<a href="#participantgroup-level-get_numbers_all_colored_graphemess" class="anchor"></a>participantgroup level: <code>get_numbers_all_colored_graphemess</code>
</h4>
<p>The participantgroup method <code>get_numbers_all_colored_graphemes</code> produces a numeric vector that holds each participant’s number of valid color responses:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">num_onlynonna</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_numbers_all_colored_graphemes</span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">num_onlynonna</span><span class="op">)</span>
<span class="co">#&gt; [1] 3 3 3</span></code></pre></div>
<p>All three participants gave only valid (non-NA) color responses for 3 graphemes. The values are in the same order that participants were in in the raw data frame, meaning that the first value corresponds to the first participant, and so on.</p>
<p>Of course, you can combine these values with participant ID’s just like we did above with mean consistency scores:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mean_cscores</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_mean_consistency_scores</span><span class="op">(</span><span class="op">)</span>
<span class="va">num_onlynonna</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_numbers_all_colored_graphemes</span><span class="op">(</span><span class="op">)</span>
<span class="va">p_ids</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_ids</span><span class="op">(</span><span class="op">)</span>
<span class="va">ctest_summary_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>participant_id<span class="op">=</span><span class="va">p_ids</span>, 
                               mean_consistency_score<span class="op">=</span><span class="va">mean_cscores</span>,
                               num_valid_graphemes<span class="op">=</span><span class="va">num_onlynonna</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">ctest_summary_df</span><span class="op">)</span>
<span class="co">#&gt;   participant_id mean_consistency_score num_valid_graphemes</span>
<span class="co">#&gt; 1              1               131.2060                   3</span>
<span class="co">#&gt; 2              2               101.3738                   3</span>
<span class="co">#&gt; 3              3               151.9597                   3</span></code></pre></div>
</div>
</div>
<div id="number-of-responses-in-specified-color-range" class="section level3">
<h3 class="hasAnchor">
<a href="#number-of-responses-in-specified-color-range" class="anchor"></a>Number of responses in specified color range</h3>
<p>Even if a participant responds with a color on each consistency test trial and the data are correctly saved, they might have used only one or two limited color ranges for all their responses. It’s a lot easier to give consistent responses if all you use is one red color and one green color. For this reason, it’s helpful to be able to check what proportion of participant responses fall within a certain color range. This doesn’t solve the problem altogether, but at least you can find obviously suspect data. synr provides functionality for this.</p>
<div id="grapheme-level-get_prop_color" class="section level4">
<h4 class="hasAnchor">
<a href="#grapheme-level-get_prop_color" class="anchor"></a>grapheme level: <code>get_prop_color</code>
</h4>
<p>First you need to decide what color range you are interested in knowing how many response colors fall into. For this grapheme-level method, and for the participant/participantgroup-level methods below, you have two choices for specifying the color range. The first is to use <code>color_label=&lt;label&gt;</code>, with supported labels being <span style="color: blue;">‘blue’</span>, <span style="color: red;">‘red’</span>, <span style="color: green;">‘green’</span>, <span style="color: white; background-color:black;">‘white’</span>, <span style="color: black;">‘black’</span> and <span style="color: lightgrey;">‘hazy’</span> (‘greyish’ colors). The other option is to specify value ranges by using two-element numeric vectors, with rgb (red, green, blue) values on a 0-1 scale: <code>r = &lt;vector1&gt;, g = &lt;vector2&gt;, b = &lt;vector3&gt;</code>. For example, <code>r=c(0, 0.3), g=c(0, 0.3), b=c(0, 0.3)</code> would code for a dark color range.</p>
<p>Let’s look at a couple of examples:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">propred_p3_7</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">3</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">graphemes</span><span class="op">[[</span><span class="st">'7'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_prop_color</span><span class="op">(</span>color_label<span class="op">=</span><span class="st">"red"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">propred_p3_7</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.5</span></code></pre></div>
<p>The proportion of participant 3’s response colors for the grapheme ‘7’ that fall within a red color range is 0.5 (50%). This means that half of the response colors for the grapheme, which is 1 in the example since there were only two responses/grapheme. <strong>Note</strong> that the ranges of color labels included in the synr package are arbitrarily delimited - consider them very rough tools, not grounded in any science.</p>
<p>Specifying color ranges in the method call:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">propturquoise_p1_A</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">graphemes</span><span class="op">[[</span><span class="st">'A'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_prop_color</span><span class="op">(</span>r<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span>,
                                                                           g<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span>,
                                                                           b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">propturquoise_p1_A</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.5</span></code></pre></div>
<p>The proportion of participant 1’s response colors for the grapheme ‘A’ that are low on red, but high on green and blue color dimensions, is 0.5 (50%).</p>
</div>
<div id="participant-level-get_prop_color" class="section level4">
<h4 class="hasAnchor">
<a href="#participant-level-get_prop_color" class="anchor"></a>participant level: <code>get_prop_color</code>
</h4>
<p>This works essentially the same as the grapheme-level method:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">propgreen_p1</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_prop_color</span><span class="op">(</span>color_label <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">propgreen_p1</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.1666667</span></code></pre></div>
<p>The proportion of participant 1’s response colors that are black/very dark, is ~=0.167 (16.7%), which is roughly one sixth, meaning one of the participant’s six responses falls within the ‘black’ label’s color range.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">propblue_p2</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_prop_color</span><span class="op">(</span>r<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span>, 
                                                   g<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.3</span><span class="op">)</span>, 
                                                   b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">propblue_p2</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span></code></pre></div>
<p>The proportion of participant 2’s response colors that are high in blue, but low in red and green, is ~=0.167 (16.7%).</p>
</div>
<div id="participant-level-get_prop_color_values" class="section level4">
<h4 class="hasAnchor">
<a href="#participant-level-get_prop_color_values" class="anchor"></a>participant level: <code>get_prop_color_values</code>
</h4>
<p>This also works essentially the same as the participant/grapheme-level method. The difference is that it returns a numeric vector with the values you would get if you called the participant-level <code>get_prop_color</code> for each participant:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">propred_vals</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_prop_color_values</span><span class="op">(</span>color_label <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">propred_vals</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.0000000 0.0000000 0.1666667</span></code></pre></div>
<p>Participants 1 and 2 gave no responses that fall within the range defined by the ‘red’ label, while ~=16,7% of participant 3’s response colors fall within the range. <br></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">propwhite_vals</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_prop_color_values</span><span class="op">(</span>r<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span>, 
                                         g<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span>, 
                                         b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">propwhite_vals</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.0000000 0.0000000 0.1666667</span></code></pre></div>
<p>Participants 1 and 3 gave no responses that have very high r/g/b color coordinates (i. e. are white), while ~=16,7% of participant 2’s response colors are white.</p>
<p><br></p>
<p>You can again of course combine all the kinds of summary data we have talked about so far:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mean_cscores</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_mean_consistency_scores</span><span class="op">(</span><span class="op">)</span>
<span class="va">num_onlynonna</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_numbers_all_colored_graphemes</span><span class="op">(</span><span class="op">)</span>
<span class="va">p_ids</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_ids</span><span class="op">(</span><span class="op">)</span>
<span class="va">propred_vals</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_prop_color_values</span><span class="op">(</span>color_label <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span>
<span class="va">propwhite_vals</span> <span class="op">&lt;-</span> <span class="va">pg</span><span class="op">$</span><span class="fu">get_prop_color_values</span><span class="op">(</span>r<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span>, 
                                         g<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span>, 
                                         b<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="va">ctest_summary_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>participant_id<span class="op">=</span><span class="va">p_ids</span>, 
                               mean_consistency_score<span class="op">=</span><span class="va">mean_cscores</span>, 
                               num_valid_graphemes<span class="op">=</span><span class="va">num_onlynonna</span>,
                               proportion_red<span class="op">=</span><span class="va">propred_vals</span>,
                               proportion_white<span class="op">=</span><span class="va">propwhite_vals</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">ctest_summary_df</span><span class="op">)</span>
<span class="co">#&gt;   participant_id mean_consistency_score num_valid_graphemes proportion_red</span>
<span class="co">#&gt; 1              1               131.2060                   3      0.0000000</span>
<span class="co">#&gt; 2              2               101.3738                   3      0.0000000</span>
<span class="co">#&gt; 3              3               151.9597                   3      0.1666667</span>
<span class="co">#&gt;   proportion_white</span>
<span class="co">#&gt; 1        0.0000000</span>
<span class="co">#&gt; 2        0.0000000</span>
<span class="co">#&gt; 3        0.1666667</span></code></pre></div>
</div>
</div>
</div>
<div id="filtering-data" class="section level2">
<h2 class="hasAnchor">
<a href="#filtering-data" class="anchor"></a>Filtering data</h2>
<p>Participants who have synesthetic associations might only have those for some of the graphemes used in a test. For instance, a participant might only have synesthetic associations for weekdays, but not digits or letters, even though all are included in the test. synr helps you apply filters to calculate summary statistics for only a subset of graphemes. Filters are applied by passing a character vector of symbols/graphemes to the <code>symbol_filter=</code> argument, when using participant-level or participantgroup-level methods for summary statistics.</p>
<p>For purposes of illustrating filtering, the larger example data frame <code>synr_example_full</code> is used (if you want, you can view it by using <code><a href="https://rdrr.io/r/utils/View.html">View(synr_example_full)</a></code> once you’ve run <code><a href="https://datalowe.github.io/synr/">library(synr)</a></code>).</p>
<div id="participant-level-filtering" class="section level3">
<h3 class="hasAnchor">
<a href="#participant-level-filtering" class="anchor"></a>participant level filtering</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pg_full</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_participantgroup_widedata.html">create_participantgroup_widedata</a></span><span class="op">(</span><span class="va">synr_example_full</span>,
                              n_trials_per_grapheme <span class="op">=</span> <span class="fl">3</span>,
                              participant_col_name <span class="op">=</span> <span class="st">'participant_id'</span>,
                              symbol_col_regex<span class="op">=</span><span class="st">'symbol'</span>,
                              color_col_regex <span class="op">=</span> <span class="st">'color'</span>,
                              color_space_spec <span class="op">=</span> <span class="st">"Luv"</span><span class="op">)</span>
<span class="va">propred_digits_pH</span> <span class="op">&lt;-</span> <span class="va">pg_full</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="st">'H'</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_prop_color</span><span class="op">(</span>color_label <span class="op">=</span> <span class="st">'red'</span>,
                                                           symbol_filter<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'0'</span>, <span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>,
                                                                           <span class="st">'4'</span>, <span class="st">'5'</span>, <span class="st">'6'</span>, <span class="st">'7'</span>,
                                                                           <span class="st">'8'</span>, <span class="st">'9'</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">propred_digits_pH</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.06666667</span></code></pre></div>
<p>Looking at response colors for the participant with ID ‘H’ (remember, we can specify participants using their row number in the raw data frame, or their participant ID), ~=6.7% of the response colors for trials with digits as graphemes were red.</p>
</div>
<div id="participantgroup-level-filtering" class="section level3">
<h3 class="hasAnchor">
<a href="#participantgroup-level-filtering" class="anchor"></a>participantgroup level filtering</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cscores_weekdays</span> <span class="op">&lt;-</span> <span class="va">pg_full</span><span class="op">$</span><span class="fu">get_mean_consistency_scores</span><span class="op">(</span>symbol_filter<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Monday'</span>, 
                                                                        <span class="st">'Tuesday'</span>,
                                                                        <span class="st">'Wednesday'</span>,
                                                                        <span class="st">'Thursday'</span>,
                                                                        <span class="st">'Friday'</span>, 
                                                                        <span class="st">'Saturday'</span>,
                                                                        <span class="st">'Sunday'</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">cscores_weekdays</span><span class="op">)</span>
<span class="co">#&gt;  [1] 272.3390 296.0390 320.8976 294.4172 311.2973 310.0333 292.2851 329.5093</span>
<span class="co">#&gt;  [9] 334.3031 309.0634</span></code></pre></div>
<p>The produced vector holds each participant’s (there are 10 participants in this case) mean consistency score, only taking trials that had a weekday grapheme into account.</p>
</div>
<div id="building-filter-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#building-filter-vectors" class="anchor"></a>Building filter vectors</h3>
<p>As you can see above, specifying the symbol_filter character vector might take some typing. To simplify things, synr includes the function <code>build_grapheme_vector</code>, with support for digits/letters/weekdays in English and Swedish. Say you want to filter by uppercase digits and letters (ignoring e. g. weekdays if those were also in your consistency test):</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">AZ_09_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_grapheme_vector.html">build_grapheme_vector</a></span><span class="op">(</span>language<span class="op">=</span><span class="st">'english'</span>,
                                      use_digits<span class="op">=</span><span class="cn">TRUE</span>,
                                      use_letters<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="va">cscores_AZ_09</span> <span class="op">&lt;-</span> <span class="va">pg_full</span><span class="op">$</span><span class="fu">get_mean_consistency_scores</span><span class="op">(</span>symbol_filter<span class="op">=</span><span class="va">AZ_09_filter</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">cscores_AZ_09</span><span class="op">)</span>
<span class="co">#&gt;  [1] 317.3262 321.0985 313.7232 305.2310 315.5543 319.2919 300.0633 311.2428</span>
<span class="co">#&gt;  [9] 296.0374 304.4304</span></code></pre></div>
<p>If you instead want lowercase weekdays, you could build the vector this way:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">weekdays_filter</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/build_grapheme_vector.html">build_grapheme_vector</a></span><span class="op">(</span>language<span class="op">=</span><span class="st">'english'</span>,
                                         use_weekdays<span class="op">=</span><span class="cn">TRUE</span>,
                                         uppercase<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">weekdays_filter</span><span class="op">)</span>
<span class="co">#&gt; [1] "monday"    "tuesday"   "wednesday" "thursday"  "friday"    "saturday" </span>
<span class="co">#&gt; [7] "sunday"</span></code></pre></div>
</div>
</div>
<div id="handling-summary-statistics-efficiently" class="section level2">
<h2 class="hasAnchor">
<a href="#handling-summary-statistics-efficiently" class="anchor"></a>Handling summary statistics efficiently</h2>
<div id="joining-data-frames-with-dplyr" class="section level3">
<h3 class="hasAnchor">
<a href="#joining-data-frames-with-dplyr" class="anchor"></a>Joining data frames with dplyr</h3>
<p>As you use synr to calculate more statistics you might find that simply cramming them all into one huge data frame becomes unwieldy. It is recommended that you instead separate different kinds of summary statistics into different data frames. You can then, when you need to combine data from the different data frames for analysis, intuitively join the data frames by making use of the <a href="https://www.rdocumentation.org/packages/dplyr/versions/0.7.8">dplyr</a> package, specifically its function <a href="https://dplyr.tidyverse.org/reference/join.html">inner_join</a>. Here’s a simple example of how you can use inner_join:</p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages('dplyr') # if you haven't installed dplyr yet
library(dplyr)
pg &lt;- create_participantgroup_widedata(synr_exampledf_wide_small,
                              n_trials_per_grapheme = 2,
                              participant_col_name = 'participant_id',
                              symbol_col_regex='symb',
                              color_col_regex = 'col',
                              color_space_spec = "Luv")
mean_cscores &lt;- pg$get_mean_consistency_scores()
num_onlynonna &lt;- pg$get_numbers_all_colored_graphemes()
p_ids &lt;- pg$get_ids()
propred_vals &lt;- pg$get_prop_color_values(color_label = 'red')
propwhite_vals &lt;- pg$get_prop_color_values(r=c(0.7, 1), 
                                         g=c(0.7, 1), 
                                         b=c(0.7, 1))
cons_df &lt;- data.frame(participant_id=p_ids, 
                      mean_consistency_score=mean_cscores)
propcol_df &lt;- data.frame(participant_id=p_ids, 
                         proportion_red=propred_vals,
                         proportion_white=propwhite_vals)
# we now have one data frame for consistency scores, and one for 
# 'proportion of responses falling within color range &lt;X&gt;' values

# joining the two data frames
cons_propcol_df &lt;- inner_join(cons_df, propcol_df, by='participant_id')</a></code></pre>
<p>The code above would join the two separate data frames into one. They key is to make sure each separate data frame includes the participant ID’s, and then set the <code>by=</code> argument to <code>'participant_id'</code> (or whatever you call your data frames’ participant ID columns). This example is a bit contrived, but you will probably want to adopt this strategy as you calculate more statistics, using different filters. Note that you can also use <code>inner_join</code> to combine the summary statistics with other data you might have about your participants. Just make sure that the other data frames have a participant ID column with the same name as the column name used in your summary statistics data frames.</p>
</div>
</div>
<div id="visualizing-participant-data" class="section level2">
<h2 class="hasAnchor">
<a href="#visualizing-participant-data" class="anchor"></a>Visualizing participant data</h2>
<p>It can often be helpful to get an overview of participants’ response colors and each grapheme’s consistency score. synr uses <a href="https://ggplot2.tidyverse.org/">ggplot2</a> to achieve this:</p>
<div id="producing-plots-for-display-in-rstudio" class="section level3">
<h3 class="hasAnchor">
<a href="#producing-plots-for-display-in-rstudio" class="anchor"></a>Producing plots for display in RStudio</h3>
<div id="participant-level-plotting-get_plot" class="section level4">
<h4 class="hasAnchor">
<a href="#participant-level-plotting-get_plot" class="anchor"></a>participant level plotting: <code>get_plot</code>
</h4>
<p>For details on how the <code>get_plot</code> method works, please have a look at the documentation for the Participant class, by using <code><a href="../reference/Participant-class.html">help(Participant)</a></code>. There, you can scroll down to the description of <code>get_plot</code>, under “Methods”.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pg_full</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_participantgroup_widedata.html">create_participantgroup_widedata</a></span><span class="op">(</span><span class="va">synr_example_full</span>,
                              n_trials_per_grapheme <span class="op">=</span> <span class="fl">3</span>,
                              participant_col_name <span class="op">=</span> <span class="st">'participant_id'</span>,
                              symbol_col_regex<span class="op">=</span><span class="st">'symbol'</span>,
                              color_col_regex <span class="op">=</span> <span class="st">'color'</span>,
                              color_space_spec <span class="op">=</span> <span class="st">"Luv"</span><span class="op">)</span>
<span class="va">p6_plot</span> <span class="op">&lt;-</span> <span class="va">pg_full</span><span class="op">$</span><span class="va">participants</span><span class="op">[[</span><span class="fl">6</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="fu">get_plot</span><span class="op">(</span>grapheme_size<span class="op">=</span><span class="fl">2.2</span>, 
                                              grapheme_angle<span class="op">=</span><span class="fl">30</span><span class="op">)</span>
<span class="va">p6_plot</span></code></pre></div>
<p><img src="synr-tutorial_files/figure-html/get_plot_demo-1.png" width="960"> At the bottom of the plot, you see the graphemes used in the test, colored in the participant’s response colors. The bars represent the consistency score for each grapheme. (note that if you produce a plot for a participant who has no valid response colors at all, or only used black/white colors, the resulting plot will unfortunately look odd. this is a known bug.)</p>
</div>
</div>
<div id="producing-plots-and-saving-them-on-your-computer" class="section level3">
<h3 class="hasAnchor">
<a href="#producing-plots-and-saving-them-on-your-computer" class="anchor"></a>Producing plots and saving them on your computer</h3>
<div id="participant-level-plot-saving-save_plot" class="section level4">
<h4 class="hasAnchor">
<a href="#participant-level-plot-saving-save_plot" class="anchor"></a>participant level plot saving: <code>save_plot</code>
</h4>
<p>For details on how the <code>save_plot</code> method works, have a look again at <code><a href="../reference/Participant-class.html">help(Participant)</a></code>. Scroll down to the description of <code>save_plot</code>, under “Methods”. What is most essential is that you specify the <code>path=</code> argument, which is where you want the plot to be saved (including filename at the end), and the <code>file_format=</code> argument:</p>
<pre><code>pg_full$participants[[6]]$save_plot(path='path/to/save/folder/filename.png',
                                    file_format='png',
                                    grapheme_size=2.2, 
                                    grapheme_angle=30)</code></pre>
</div>
<div id="participantgroup-level-plot-saving-save_plots" class="section level4">
<h4 class="hasAnchor">
<a href="#participantgroup-level-plot-saving-save_plots" class="anchor"></a>participantgroup level plot saving: <code>save_plots</code>
</h4>
<p>For details on how the <code>save_plots</code> method works, run <code><a href="../reference/ParticipantGroup-class.html">help(ParticipantGroup)</a></code>. Scroll down to the description of <code>save_plots</code>, under “Methods”. What is most essential is again that you specify the <code>path=</code> argument, which is the directory you want the plots to be saved to, and the <code>file_format=</code> argument:</p>
<pre><code>pg_full$save_plots(path='path/to/save/folder',
                   file_format='png',
                   grapheme_size=2.2, 
                   grapheme_angle=30)</code></pre>
</div>
</div>
</div>
<div id="feedback" class="section level2">
<h2 class="hasAnchor">
<a href="#feedback" class="anchor"></a>Feedback</h2>
<p>If you have any suggestions on improvements you can contact me as the author and maintainer of the package at <a href="mailto:datalowe@posteo.de" class="email">datalowe@posteo.de</a>, or you can directly commit code improvements to the github repo at <a href="https://github.com/datalowe/synr" class="uri">https://github.com/datalowe/synr</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Lowe Wilsson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
